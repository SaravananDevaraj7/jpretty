<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>jPretty sample</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>

    <div class="jumbotron text-center">
        <h1>jPretty</h1>
        <p>Transform json into something readable</p> 
        <p><a href="https://gitter.im/jprettyMod/Lobby?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" rel="nofollow"><img src="https://badges.gitter.im/jprettyMod/Lobby.svg" alt="Join the chat at https://gitter.im/jprettyMod/Lobby" /></a> 
          <a href="https://www.npmjs.com/package/jpretty"><img src="https://badge.fury.io/js/jpretty.svg" alt="npm version" height="18"></a></p>
      </div>
      <div class="container">

<h3>json:</h3>
<div class="form-group">
    <textarea class="form-control" rows="5"  id="rawjson"></textarea>
  </div>

<h3>jPretty Output</h3>
<p id="jpOutput">

</p>


<p id="jsonCt"></p>
</div>


<script
   type="text/javascript"
   src="https://cdn.rawgit.com/frankc60/jpretty/master/jPretty.js"
></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script>
$(function() {

$("#rawjson").val(JSON.stringify(data));

  $("#rawjson").on("change keyup paste", function() {
    let rawJson = $("#rawjson").val();
    let jp = jPretty(rawJson);
    $("#jpOutput").html(jp);

  })

let e = jQuery.Event("keyup");
e.which = 50;
e.keyCode = 50;
$("#rawjson").trigger(e);

});




const data = {
    "id": "0001",
    "type": "donut",
    "name": "Cake",
    "ppu": 0.55,
    "batters":
      {
        "batter":
          [
            { "id": "1001", "type": "Regular" },
            { "id": "1002", "type": "Chocolate" },
          ]
      },
    "topping":
      [
        { "id": "5001", "type": "None" },
        { "id": "5002", "type": "Glazed" },
        { "id": "5005", "type": "Sugar" },
      ]
};


//document.getElementById("jsonCt").innerHTML = jPretty(data);

</script>

</body>

</html>